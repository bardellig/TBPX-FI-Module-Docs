
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://bardellig.github.io/TBPX-FI-Module-Docs/module_testing_preliminary/preliminary_op.html">
      
      
        <link rel="prev" href="../iv_bare_module_testing/IT_3D_IV_BM_procedure.html">
      
      
        <link rel="next" href="../module_testing/codi.html">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Overview - TBPX Module Assembly and Testing - Firenze</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2a3383ac.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="TBPX Module Assembly and Testing - Firenze" class="md-header__button md-logo" aria-label="TBPX Module Assembly and Testing - Firenze" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            TBPX Module Assembly and Testing - Firenze
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Overview
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="TBPX Module Assembly and Testing - Firenze" class="md-nav__button md-logo" aria-label="TBPX Module Assembly and Testing - Firenze" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    TBPX Module Assembly and Testing - Firenze
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    IV Bare Module Testing
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            IV Bare Module Testing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../iv_bare_module_testing/IT_3D_IV_BM_procedure.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Procedure
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Preliminary Operations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Preliminary Operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
      <a href="preliminary_op.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Module Testing
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Module Testing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../module_testing/codi.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Overview</h1>

<p>**Preliminary Operations **</p>
<p>Software:</p>
<ul>
<li><a href="https://gitlab.cern.ch/cms_tk_ph2/dirigent">Dirigent</a><ul>
<li>A software wrapper, wrapping together Ph2_ACF (DAQ software) and icicle (software for PS controlling)</li>
</ul>
</li>
<li><a href="https://gitlab.cern.ch/cms_tk_ph2/ph2_acf">Ph2_ACF</a><ul>
<li>DAQ software has to be installed independently, look for the latest tagged version for IT </li>
</ul>
</li>
<li><a href="https://gitlab.cern.ch/cms_tk_ph2/power_supply">POWDER</a><ul>
<li>Power supply libraries that is needed only to work with the CAEN LV</li>
</ul>
</li>
<li><a href="https://gitlab.cern.ch/cms-ph2-database/py4dbupload">DataBase_pythonUploader</a><ul>
<li>This is needed to upload and edit the modules that are assembled in Firenze to the central <a href="https://cmsdca.cern.ch/trk_cmsr/construct/parts/">DCA</a>. Now in order to have the macro working you must be registered to the various e-groups related to the database(<a href="https://e-groups.cern.ch/e-groups/Egroup.do?egroupId=10371208&amp;AI_USERNAME=GBARDELL&amp;searchField=0&amp;searchMethod=1&amp;searchValue=cms-tracker&amp;pageSize=100&amp;hideSearchFields=false&amp;searchMemberOnly=false&amp;searchAdminOnly=false&amp;AI_SESSION=A14D2513EC1D9B7E5E74DC59856C84FE">Assembly Operator</a>, <a href="https://e-groups.cern.ch/e-groups/Egroup.do?egroupId=10371211&amp;AI_USERNAME=DIMATTIA&amp;searchField=0&amp;searchMethod=0&amp;searchValue=cms-&amp;pageSize=30&amp;hideSearchFields=false&amp;searchMemberOnly=false&amp;searchAdminOnly=true&amp;AI_SESSION=BFhKdxLwOasNLkbBtvtWK6ZpHHvuZeQV93Y-JFCAYJz2clVK7nQH%2114215125%21wlsmanaged1%2110110%2110111%211603272119128">QC Operator</a> and <a href="https://e-groups.cern.ch/e-groups/Egroup.do?egroupId=10371211&amp;AI_USERNAME=DIMATTIA&amp;searchField=0&amp;searchMethod=0&amp;searchValue=cms-&amp;pageSize=30&amp;hideSearchFields=false&amp;searchMemberOnly=false&amp;searchAdminOnly=true&amp;AI_SESSION=BFhKdxLwOasNLkbBtvtWK6ZpHHvuZeQV93Y-JFCAYJz2clVK7nQH%2114215125%21wlsmanaged1%2110110%2110111%211603272119128">Tracking Operator</a>). Also while downloading the macro the user must be enrolled in such e-groups.</li>
</ul>
</li>
<li><a href="https://panthera.fit.edu/">Panthera</a><ul>
<li>A panthera account is needed to upload the module to the site and eventually review them. To ask for an account you have to write a mail to Scott Demarest and Souvik Das, where you can also ask different roles.</li>
</ul>
</li>
</ul>
<p>Hardware:
* Base plate for testing
* Testing Adapter screwed to the base plate 
* Needle card mounted on the adc and adapter
* 3 long spines and 1 short and a USB-A cable
* Clamp 3D printed</p>
<p>First visual inspect the module, the wire-bondings, the status of connectors of the assembled modules. Place the module in the base plate, close the power connector in the Testing adapter, close with the clamp and screw it to the base plate using flat screw otherwise the needle card will not be able to reach the module. Place the four spines, taking care of placing the small one as it's illustrated in the picture. Attach the usb cable, and enable its usb port, if it's not done, with: </p>
<pre><code>sudo chmod 777 /dev/ttyUSB* 
</code></pre>
<p>After downloading and having installed dirigent and Ph2_ACF source first on dirigent and later on Ph2_ACF. It can be that the root version downloaded in the pc is from a binary distribution, dirigent in that case has to be compiled with the -c flag. Check that the icicle version works, by trying to talk with an instrument, as example:</p>
<pre><code>tti -R &quot;resource_name&quot; status&quot;
</code></pre>
<p>Copy the config files on available in the config file of dirigent. The modules.json file has to be adapted for the module studied (double or quad). Example for double:</p>
<pre><code>{
        &quot;Hybrid&quot;: {
                &quot;0&quot;: {
                        &quot;RD53Bv2&quot;: {
                                &quot;info&quot; : {&quot;module_name&quot; : &quot;C2HQ0&quot;, &quot;type&quot; : &quot;1x2&quot;, &quot;subdetector&quot; : &quot;TBPX&quot;, &quot;sensor&quot; : true},
                                &quot;0&quot;: {&quot;Lane&quot;: 0, &quot;eFuseCode&quot;: 46721, &quot;LaneConfig&quot;: {&quot;outputLanes&quot;: &quot;0100&quot;}, &quot;Settings&quot;: {&quot;VOLTAGE_TRIM_DIG&quot;: 7, &quot;VOLTAGE_TRIM_ANA&quot;: 9, &quot;VREF_ADC&quot;: 844}},
                                &quot;1&quot;: {&quot;Lane&quot;: 3, &quot;eFuseCode&quot;: 46721, &quot;LaneConfig&quot;: {&quot;outputLanes&quot;: &quot;0100&quot;}, &quot;Settings&quot;: {&quot;VOLTAGE_TRIM_DIG&quot;: 7, &quot;VOLTAGE_TRIM_ANA&quot;: 9, &quot;VREF_ADC&quot;: 844}}
                        }
                }
        }
}
</code></pre>
<p>The instruments.json file has to be adapted for the instruments used, the lv, the keithley, the cold box and the needle card, according to the examples below:</p>
<pre><code>instruments&quot;: {
                &quot;lv_1&quot;: {
                        &quot;class&quot;: &quot;TTITSX&quot;,
                        &quot;resource&quot;: &quot;TCPIP::192.168.0.22::9221::SOCKET&quot;,
                        &quot;sim&quot;: false,
                        &quot;default_voltage&quot;: 4.0,
                        &quot;default_current&quot;: 3.7,
                        &quot;wait_time&quot;: 5
                },
                &quot;hv_1&quot;: {
                        &quot;class&quot;: &quot;Keithley2410&quot;,
                        &quot;resource&quot;: &quot;ASRL/dev/ttyUSB0::INSTR&quot;,
                        &quot;sim&quot;: false,
                        &quot;default_voltage&quot;: -50,
                        &quot;default_current&quot;: 10e-6,
                        &quot;default_range&quot;: -80
                },
                &quot;ab_1&quot;: {
                        &quot;class&quot;: &quot;ETHProbecard&quot;,
                        &quot;resource&quot;: &quot;ASRL/dev/ttyUSB2::INSTR&quot;
                }
        },
</code></pre>
<p>The dirigent.toml file has to be adapted according to the tests that are going to be performed. The first test used is get_module_info to retrieve the information of the modules. It's launched via the command below, where the flag -r is meant to overwrite  the parameters of the json and -e to overwrite the e-fuse code of the modules.json. This will try to read the module and by the efuse codes it will download the information from the database.   </p>
<pre><code>dirigent -C dirigent.toml get_module_info -r 1 -e 1
</code></pre>
<p>The most common scans are the iv_curve scan, with limit imposed to -80 V for 3D and to -350 V for planar. In the scan the flag monitor_temperature has to be set true such that the temperature is registered at the end of the scan. At the moment it's possible to increase the time of the measurements, through the flag temp_runtime to 20, and launching the scan with </p>
<pre><code>dirigent -C dirigent.toml iv_curve -t 20
</code></pre>
<p>This is done to guarantee enough time to Ph2_ACF such that it's able to save correctly the monitoring files </p>
<p><a href="../index.html">← Back to main page</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>